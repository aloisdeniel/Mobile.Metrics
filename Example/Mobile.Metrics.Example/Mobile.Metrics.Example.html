<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Mobile.Report</title>

    <link rel="stylesheet" href="https://bootswatch.com/cosmo/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css">
    
    <style>
        .navbar-inverse {
            background-color: #333333;
        }
        
        @media(min-width:768px) {
            .sidebar {
                z-index: 1;
                position: absolute;
                width: 250px;
                margin-top: 8px;
                margin-left: 10px;
            }
            
            #content {
                position: inherit;
                margin: 0 0 0 260px;
                padding: 20px 30px 0px 30px;
            }
        }
    </style>
    
</head>

<body>
    
        <!-- Header bar -->
    
        <nav class="navbar navbar-default navbar-static-top navbar-inverse" role="navigation" style="margin-bottom: 0">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">Mobile.Metrics example</a>
            </div>
        </nav>
    
        <!-- Side menu -->
    
       <div class="sidebar" role="navigation"></div>
    
        <!-- Content -->
    
        <div id="content">
            <ol class="breadcrumb"></ol>
            <div id="content-items"></div>
        </div>
    
    
    <!-- View Templates -->
    
    <script id="templ_menu" type="x-tmpl-mustache">
        {{#categories}}
        <h5>{{title}}</h5>
        <ul class="nav nav-pills nav-stacked {{id}}">
          {{#sections}}
          <li class="{{id}}{{#selected}} active{{/selected}}" role="presentation"><a href="?section={{id}}" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"><span class="glyphicon glyphicon-{{glyph}}"></span>&nbsp;&nbsp;<span style="text-overflow: ellipsis;">{{title}}</span> {{#badge}}<span class="badge">{{badge}}</span>{{/badge}}</a></li>
          {{/sections}}
        </ul>
        {{/categories}}
    </script>

    <script id="templ_table" type="x-tmpl-mustache">
        <table class="table table-condensed">
            <tbody>
                <tr>
                    <th></th>
                    {{#header.columns}}
                    <th>{{value}}</th>
                    {{/header.columns}}
                </tr>                     
                {{#rows}}
                <tr>
                    <th>{{header}}</th>
                    {{#columns}}
                    <td style="color:{{color}};">{{value}}</td>
                    {{/columns}}
                </tr>
                {{/rows}}
            </tbody>
        </table>
     </script>
    
    <script id="templ_index" type="x-tmpl-mustache">
        <div class="row">
            {{#metrics}}
            <div class="metrics col-md-{{width}}">
                <div id="{{id}}" class="panel panel-default">
                    <div class="panel-heading"><span class="glyphicon glyphicon-{{glyph}}"></span>&nbsp;&nbsp;{{title}}</div>
                    <div id="{{id}}-graph" style="height: 300px; margin: 10px;"></div>
                </div>
            </div>
            {{/metrics}}
        </div>
    </script>

    <script id="templ_warnings" type="x-tmpl-mustache">
        <div id="levels-graph" style="height: 350px"></div>
        {{#files}}
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-file"></span>&nbsp;&nbsp;{{#project}} {{project}} /{{/project}} {{name}}</div>
          <table class="table">
            <tbody>
              {{#warnings}}
              <tr>
                <td><span class="label label-{{level}}">{{index}}</span>&nbsp;&nbsp;{{message}}</td>
              </tr>
              {{/warnings}}
            </tbody> 
          </table>
        </div>
        {{/files}}
    </script>

    <script id="templ_project" type="x-tmpl-mustache">
        {{#files}}

        <h2>{{name}} <span class="badge">{{files.length}} fichier(s)</span></h2>

        {{#files}}
        <div class="panel panel-default">
            <div class="panel-heading"><span class="glyphicon glyphicon-file"></span>&nbsp;&nbsp;{{name}}</div>
            
            <table class="table">
                <tbody>

                    {{#metrics}}
                    <tr>
                        <th>{{header}}</th>
                        <td style="width: 100px; text-align:right;"><span class="badge" style="background-color:{{color}};">{{value}}</span></td>
                    </tr>
                    {{/metrics}}

                    {{#hasMethods}}
                    <tr style="background-color:#f5f5f5;">
                        <th>MÃ©thode</th>
                        {{#methods.header}}
                        <th>{{.}}</th>
                        {{/methods.header}}
                    </tr>
                    {{#methods.rows}}
                    <tr>
                        <th style="color:{{color}};">{{header}}</th>
                        {{#columns}}
                        <td style="width: 100px; text-align:right;"><span class="badge" style="background-color:{{color}};">{{value}}</span></td>
                        {{/columns}}
                    </tr>
                    {{/methods.rows}}                    
                    {{/hasMethods}}

                </tbody>
            </table>
        </div>        
        {{/files}}
        {{/files}}
    </script>
    
    <script id="templ_duplication" type="x-tmpl-mustache">
        {{#portions}}
        <div class="panel panel-default">
            <table class="panel-heading table">
            <tbody>
              {{#files}}
              <tr>
                <td><span class="glyphicon glyphicon-file"></span> {{#project}}&nbsp;&nbsp;{{project}} / {{/project}}{{name}} <i>(l.{{line}})</i></td>
              </tr>
              {{/files}}
            </tbody> 
          </table>
          <div class="panel-body"><a class="btn btn-sm btn-primary" onclick="$('#{{id}}').toggle();">Afficher / Cacher</a><div id="{{id}}" style="display: none;"><pre><code>{{content}}</code></pre></div></div>
        </div>
        {{/portions}}
    </script>

    <script>
        var metrics = '{{REPORT}}';
    </script>
    
    <!-- Libraries -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.1.3/mustache.min.js"></script>
    <script src="https://rawgit.com/flatiron/director/master/build/director.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <!-- Main -->
    <script src="./Mobile.Metrics.Example.Data.js"></script>
    <script src="./Mobile.Metrics.Example.Mobile.Metrics.js"></script>
    
</body>